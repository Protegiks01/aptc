# Audit Report

## Title
Delta History Merge Failure Causes Validator Node Crash in Block-STM Parallel Execution

## Summary
In Block-STM parallel execution, when two transactions apply different `DeltaOp`s to the same aggregator, their delta histories can become mathematically incompatible during the merging phase. This triggers a `DeltaHistoryMergeAchievedAndFailureOverlap` error which causes `materialize_delta` to hit an `unreachable!()` macro, panicking the validator node and breaking consensus.

## Finding Description
The vulnerability exists in the delta materialization logic where `DeltaOp` histories from consecutive transactions are merged to compute the final aggregator value.

Each `DeltaOp` contains a `DeltaHistory` that tracks:
- `max_achieved_positive_delta`: Maximum positive delta successfully applied during transaction execution
- `min_overflow_positive_delta`: Minimum positive delta that caused overflow
- Similar bounds for negative deltas (underflow tracking)

<cite repo="grass-dev-pa/aptos-core-074" path="aptos-move/aptos-aggregator/src/delta_math.rs" start="56