[
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: process_ready_transaction()] [Concurrent State Modification] At lines 553-594, transaction state is read and modified. Can concurrent commit_transaction() or gc() cause inconsistent state? (Critical)",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_832ecfa9-866e-46f0-8c17-bbcb7d1fde99?mode=deep",
    "timestamp": "2026-01-20 13:20:04.835858",
    "report_generated": false
  },
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: read_timeline()] [Concurrent Removal During Read] At line 804, code reads transaction from mempool. If index_remove() is called concurrently, can this cause panic or invalid data? (High)",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_02154b92-8884-4c1c-bbc0-1ddef586d4dc?mode=deep",
    "timestamp": "2026-01-20 13:20:17.688142",
    "report_generated": false
  },
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: check_is_full_after_eviction()] [Concurrent Insertions During Eviction] While eviction loop runs (lines 426-447), can concurrent insertions refill mempool faster than eviction can clear space? (High)",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_1b0b126e-3da5-4bfa-b7a8-79feabb0c968?mode=deep",
    "timestamp": "2026-01-20 13:20:30.579372",
    "report_generated": false
  },
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: gc()] [Concurrent GC and Insert] At lines 942-998, GC iterates and removes transactions. Can concurrent insert() cause iterator invalidation or missed transactions? (Critical)",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_20a27468-a87f-41ba-864a-c0fdc1b7cc76?mode=deep",
    "timestamp": "2026-01-20 13:20:45.444695",
    "report_generated": false
  },
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: insert()] [Empty Transactions HashMap] At line 257, code does get_mut() on transactions HashMap. If account doesn't exist, or_default() is called at line 320. Can this cause double insertion or missed validation? (Medium)",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_f2d43eb9-78d8-4ad2-8a68-f179f20e6831?mode=deep",
    "timestamp": "2026-01-20 13:20:59.808326",
    "report_generated": false
  },
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: check_txn_ready()] [Account Without Transactions] At line 486, code checks if account exists in transactions HashMap. If account was just cleaned up, can this cause incorrect readiness determination? (Medium)",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_dd99d040-00f3-4efe-8b8b-d365a3fadf10?mode=deep",
    "timestamp": "2026-01-20 13:21:15.075600",
    "report_generated": false
  },
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: clean_committed_transactions_below_account_seq_num()] [Empty Transaction List] At lines 645-650, what happens if txns is empty? Can seq_num_split_off() fail or return incorrect results? (Medium)",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_2182a210-80b7-4e88-99cc-68b9358eb092?mode=deep",
    "timestamp": "2026-01-20 13:21:31.729459",
    "report_generated": false
  },
  {
    "question": "[File: aptos-core/mempool/src/core_mempool/transaction_store.rs] [Function: commit_transaction()] [Commit Non-\n\n### Citations\n\n**File:** mempool/src/core_mempool/transaction_store.rs (L1-1055)\n```rust\n// Copyright © Aptos Foundation\n// Parts of the project are originally copyright © Meta Platforms, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nuse crate::{\n    core_mempool::{\n        index::{\n            AccountTransactions, MultiBucketTimelineIndex, ParkingLotIndex, PriorityIndex,\n            PriorityQueueIter, TTLIndex,\n        },\n        mempool::Mempool,\n        transaction::{InsertionInfo, MempoolTransaction, TimelineState},\n    },\n    counters::{self, BROADCAST_BATCHED_LABEL, BROADCAST_READY_LABEL, CONSENSUS_READY_LABEL},\n    logging::{LogEntry, LogEvent, LogSchema, TxnsLog},\n    network::BroadcastPeerPriority,\n    shared_mempool::types::{\n        MempoolSenderBucket, MultiBucketTimelineIndexIds, TimelineIndexIdentifier,\n    },\n};\nuse aptos_config::config::MempoolConfig;\nuse aptos_crypto::HashValue;\nuse aptos_logger::{prelude::*, Level};\nuse aptos_types::{\n    account_address::AccountAddress,\n    mempool_status::{MempoolStatus, MempoolStatusCode},\n    transaction::{ReplayProtector, SignedTransaction},\n};\nuse std::{\n    cmp::max,\n    collections::HashMap,\n    mem::size_of,\n    ops::Bound,\n    time::{Duration, Instant, SystemTime},\n};\n\n/// Estimated per-txn overhead of indexes. Needs to be updated if additional indexes are added.\npub const TXN_INDEX_ESTIMATED_BYTES: usize = size_of::<crate::core_mempool::index::OrderedQueueKey>() // priority_index\n    + size_of::<crate::core_mempool::index::TTLOrderingKey>() * 2 // expiration_time_index + system_ttl_index\n    + (size_of::<u64>() * 3 + size_of::<AccountAddress>()) // timeline_index\n    + (size_of::<HashValue>() + size_of::<u64>() + size_of::<AccountAddress>()); // hash_index\n\npub fn sender_bucket(\n    address: &AccountAddress,\n    num_sender_buckets: MempoolSenderBucket,\n) -> MempoolSenderBucket {\n    address.as_ref()[address.as_ref().len() - 1] as MempoolSenderBucket % num_sender_buckets\n}\n\n/// TransactionStore is in-memory storage for all transactions in mempool.\npub struct TransactionStore {\n    // main DS\n    pub(crate) transactions: HashMap<AccountAddress, AccountTransactions>,\n\n    // Sequence numbers for accounts with transactions\n    pub(crate) account_sequence_numbers: HashMap<AccountAddress, u64>,\n\n    // indexes\n\n    // Transactions in this index are",
    "url": "https://deepwiki.com/search/-you-are-an-elite-aptos-blockc_9a146785-6106-48f0-baea-1edb5b3e2777?mode=deep",
    "timestamp": "2026-01-20 13:21:49.747879",
    "report_generated": false
  }
]